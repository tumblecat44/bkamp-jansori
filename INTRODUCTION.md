# 소개

## 뭘 만들었나요?
**잔소리 AI** - 친한 친구처럼 정해진 시간에 목표 달성을 채찍질해주는 AI 기반 리마인더 서비스입니다.

리마인더 앱들은 맨날 "운동할 시간입니다" 이런 무미건조한 알림만 보내잖아요? 이 서비스는 AI가 직접 사용자의 목표에 맞춰 잔소리를 생성해서, 진짜 친구한테 잔소리 듣는 느낌으로 알림을 보냅니다.

**3단계 강도 조절:**
- 🟢 순한맛 - 부드럽게 응원하는 느낌
- 🟡 중간맛 - 친한 친구처럼 적당히 채찍질
- 🔴 매운맛 - 매우 직설적이고 강하게 압박

---

## 기술 스택

| 분류 | 사용 기술 |
|------|-----------|
| 프레임워크 | Next.js 16 + TypeScript |
| 스타일링 | Tailwind CSS v4 |
| UI 컴포넌트 | shadcn/ui (Radix UI 기반) |
| 인증 | NextAuth 5 + Google OAuth |
| 데이터베이스 | PostgreSQL (Neon) + Prisma 7 |
| LLM | Groq API (Llama 3.3 70B) |
| 푸시 알림 | Web Push API (VAPID) |
| 스케줄링 | GitHub Actions Cron |

---

## 정각 알림은 어떻게 동작하나요?

**1. 매 시간 정각에 서버가 깨어남**

GitHub Actions가 매 시간 0분에 자동으로 서버를 호출합니다.

**2. 사용자별 시간대 계산**

서버는 UTC 기준으로 동작하지만, 사용자가 설정한 시간대(예: 서울)에 맞춰서 "지금 몇 시인지" 계산합니다.

**3. 알림 시간 균등 분배**

사용자가 "오전 9시 ~ 오후 9시, 하루 3번"으로 설정하면 → 9시, 15시, 21시에 알림이 갑니다.

자정을 넘어가는 설정도 가능합니다. "밤 10시 ~ 새벽 2시, 3번" → 22시, 0시, 2시

**4. AI가 잔소리 생성 후 전송**

현재 시간이 알림 시간에 해당하면, AI가 목표에 맞는 잔소리를 생성하고 푸시 알림으로 보냅니다.

---

## 푸시 알림은 어떻게 동작하나요?

**1. 알림 권한 허용**

사용자가 브라우저에서 알림 권한을 허용하면, 서버에 구독 정보가 저장됩니다.

**2. 알림 전송**

정해진 시간이 되면 서버가 Web Push를 통해 사용자 기기로 알림을 보냅니다.

**3. 알림 수신**

브라우저가 꺼져 있어도 Service Worker가 백그라운드에서 알림을 받아 표시합니다.

---

## 📋 실제 잔소리 예시

**목표:** "매일 30분 운동하기"

| 강도 | 잔소리 예시 |
|------|------------|
| 순한맛 | "오늘도 30분 운동 화이팅이야, 넌 할 수 있어!" |
| 중간맛 | "야, 운동 안 하면 또 내일로 미룰 거잖아. 당장 일어나." |
| 매운맛 | "30분도 못 빼? 핸드폰 붙잡고 있을 시간에 스쿼트나 해." |

---

## 전체 흐름 요약

```
1. 사용자가 목표 등록 (강도, 빈도, 시간대 설정)
              ↓
2. 브라우저에서 푸시 알림 허용
              ↓
3. 매 시간 정각에 서버가 체크
              ↓
4. "지금 알림 보낼 사용자" 필터링
              ↓
5. AI가 맞춤 잔소리 생성
              ↓
6. 푸시 알림 전송
              ↓
7. 사용자 핸드폰에 "친구의 잔소리" 도착 📱
```
